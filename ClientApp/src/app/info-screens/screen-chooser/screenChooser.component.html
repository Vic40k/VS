<table class="table align-middle">
  <thead>
    <tr>
      <th scope="col" class="zone_col">Склад</th>
      <th scope="col" class="screen_col hint_col" colspan="5">Выберите экран для отображения или настройте новый</th>
      <th scope="col" class="screen_col"></th>
      <th scope="col" class="screen_col"><button (click)="addNewScreen()" mat-button color="primary"> + Добавить</button></th>
    </tr>
  </thead>
</table>


<table class="table align-middle">
  <thead>
    <tr>
      <th scope="col"></th>
      <th scope="col">Имя</th>
      <th scope="col">Перемотка</th>
      <th scope="col">Скорость перемотки</th>
      <th scope="col">Страницы</th>
      <th scope="col">Интервал обновления данных</th>
      <th scope="col"></th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let screen of screensList">
      <ng-template [ngIf]="!screen.isEdit" [ngIfElse]="edit">
        <th scope="row">
          <fa-icon class="monitor_ctrl_icon" (click)="goToWarehouseScreen(screen.id)" [icon]="faDesktop"></fa-icon>
        </th>
        <th scope="row">{{screen.name}}</th>
        <td>{{screen.autoScroll ? 'Да':'Нет'}}</td>
        <td>{{screen.scrollInterval}} секунд</td>
        <td>{{showPagesPreferences(screen.pageToShowFrom, screen.pageToShowTo)}}</td>
        <td>{{screen.updatePeriod}}&nbsp;{{getMinutesString(screen.updatePeriod)}}</td>
        <td>
          <fa-icon class="edit_ctrl_icon" (click)="editScreen(screen)" [icon]="faPencilAlt"></fa-icon>
          <fa-icon class="trash_ctrl_icon" (click)="removeScreen(screen.id)" [icon]="faTrash"></fa-icon>
        </td>
      </ng-template>
      <ng-template #edit>
        <th scope="row" class="new_pref">{{screen.id == 0? 'Новый!':''}}</th>
        <th scope="row">
          <form>
            <mat-form-field>
              <input matInput id="screen_name" name="screen_name" 
                [(ngModel)]="screen.name" 
                placeholder="Введите название экрана"
                required minlength="1" 
                autocomplete="off"
              >
            </mat-form-field>
          </form>
        </th>
        <td>
          <mat-form-field >
            <mat-label>Перематывать страницы?</mat-label>
            <select matNativeControl
              [(ngModel)]="screen.autoScroll"
              required>
              <option value="true">Да</option>
              <option value="false">Нет</option>
            </select>
          </mat-form-field>
        </td>
        <td>
          <form>
            <mat-form-field>
              <input matInput id="scroll_interval" name="scroll_interval"
                type="number"
                [(ngModel)]="screen.scrollInterval"
                placeholder="От 2 до 60 секунд"
                min="2"
                max="60"
                autocomplete="off"
              >
            </mat-form-field>
          </form>
        </td>
        <td>
          <mat-form-field >
            <mat-label>Будет показано: {{showPagesPreferences(screen.pageToShowFrom, screen.pageToShowTo)}}</mat-label>
            <select matNativeControl
              [(ngModel)]="screen.pageToShowFrom"
              required>
              <option value="0">Все</option>
              <option value="1">1</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5</option>
              <option value="6">6</option>
              <option value="7">7</option>
              <option value="8">8</option>
              <option value="9">9</option>
              <option value="10">10</option>
            </select>
          </mat-form-field>
          &nbsp;<b>-</b>&nbsp;
          <mat-form-field >
            <select matNativeControl
            [(ngModel)]="screen.pageToShowTo"
            required>
            <option value="0">Все</option>
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
            <option value="6">6</option>
            <option value="7">7</option>
            <option value="8">8</option>
            <option value="9">9</option>
            <option value="10">10</option>
          </select>
          </mat-form-field>
        </td>
        <td>
          <form>
            <mat-form-field>
              <input matInput id="update_period" name="update_period"
                type="number"
                [(ngModel)]="screen.updatePeriod"
                placeholder="От 1 до 720 минут (12ч)"
                min="1"
                max="720"
                autocomplete="off"
              >
            </mat-form-field>
          </form>
        </td>
        <td>
          <fa-icon class="check_ctrl_icon" (click)="saveScreenEdit(screen)" [icon]="faCheck"></fa-icon>
          <fa-icon class="cancel_ctrl_icon" (click)="cancelScreenEdit(screen)" [icon]="faTimesCircle"></fa-icon>
        </td>
      </ng-template>
    </tr>
  </tbody>
</table>
